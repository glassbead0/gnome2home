<style type="text/css">
  table {
    border-width: 0;
    border-style: none;
    border-color: #0000ff;
    border-collapse: collapse;
  }
  td {
    border-width: 0;
    border-style: none;
    border-color: #0000ff;
    border-collapse: collapse;
    padding: 0;
    margin: 0;
    width: 10px;
    height: 10px;
  }
  td.black { background-color: #000; }
  td.white { background-color: #fff; }
</style>


<div class="page-header">
  <%= link_to tickets_path, :class => 'btn btn-default' do %>
    <span class="glyphicon glyphicon-list-alt"></span>
    Back
  <% end %>
  <%= link_to edit_ticket_path(@ticket), :class => 'btn btn-primary' do %>
    <span class="glyphicon glyphicon-pencil"></span>
    Edit
  <% end %>
  <h1>Show ticket</h1>
</div>

<dl class="dl-horizontal">
  <dt>Name</dt>
  <dd><%= "#{@ticket.first_name} #{@ticket.last_name}" %></dd>

  <dt>Departs at: </dt>
  <dd><%= @ticket.van.stops[0].location + ' on ' + @ticket.van.departure_time.strftime('%a: %b %e, %l:%M %P') %></dd>

  <dt>Confirmation Number:</dt>
  <dd><%= @ticket.id %></dd>

  <dt>QR Code:</dt>
  <br/>

  <div class="container">
    <%  @qr = RQRCode::QRCode.new( @ticket.qrcode, :size => 6, :level => :h ) %>

    <table>
      <% @qr.modules.each_index do |x| %>
        <tr>
          <% @qr.modules.each_index do |y| %>
            <% if @qr.dark?(x,y) %>
              <td class="black"/>
            <% else %>
              <td class="white"/>
            <% end %>
          <% end %>
        </tr>
      <% end %>
    </table>
  </div>

</dl>
